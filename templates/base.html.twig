<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    <title>{% block title %}Multi-Nettoyage Propreté - Services de nettoyage professionnel{% endblock %}</title>

    {# ── SEO Meta ─────────────────────────────────────────── #}
    <meta name="description" content="{% block meta_description %}Multi-Nettoyage Propreté plus 94 : entreprise de nettoyage professionnel à Paris et Île-de-France. Bureaux, immeubles, chantiers, industries.{% endblock %}">
    <meta name="robots" content="{% block meta_robots %}index, follow{% endblock %}">
    <link rel="canonical" href="{% block canonical %}{{ app.request.schemeAndHttpHost ~ app.request.pathInfo }}{% endblock %}">

    {# ── Open Graph ───────────────────────────────────────── #}
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:title" content="{% block og_title %}{{ block('title') }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ block('meta_description') }}{% endblock %}">
    <meta property="og:url" content="{{ block('canonical') }}">
    <meta property="og:image" content="{% block og_image %}{{ app.request.schemeAndHttpHost ~ asset('img/logo.png') }}{% endblock %}">
    <meta property="og:site_name" content="Multi-Nettoyage Propreté plus 94">
    <meta property="og:locale" content="fr_FR">

    {# ── Twitter Card ─────────────────────────────────────── #}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ block('og_title') }}">
    <meta name="twitter:description" content="{{ block('og_description') }}">
    <meta name="twitter:image" content="{{ block('og_image') }}">

    <link rel="icon" type="image/png" href="{{ asset('img/logo.png') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('css/plugins.css') }}">
    <link rel="stylesheet" href="{{ asset('css/style.css') }}">
    <link rel="stylesheet" href="{{ asset('css/animations.css') }}">
    <style>
    /* Performance hints pour animations WOW */
    .wow {
        will-change: transform, opacity;
    }
    .wow.animated {
        will-change: auto;
    }
    /* GPU acceleration */
    .zoomIn, .fadeInUp, .fadeInDown, .fadeInLeft, .fadeInRight {
        transform: translateZ(0);
        backface-visibility: hidden;
    }
    </style>
    {% block stylesheets %}{% endblock %}

    {# ── JSON-LD Structured Data ─────────────────────────── #}
    {% block jsonld %}
        {{ seo_jsonld_organization() }}
    {% endblock %}
</head>
<body>
    <!-- Preloader -->
    <div class="preloader-bg"></div>
    <div id="preloader">
        <div id="preloader-status">
            <div class="preloader-position loader"> <span></span> </div>
        </div>
    </div>
   
    <div class="cursor js-cursor"></div>
   

    <div class="progress-wrap cursor-pointer">
        <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
            <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
        </svg>
    </div>
    <!-- Navbar -->
    <header role="banner">
        {% include 'layout/navbar.html.twig' %}
    </header>
    
    <!-- Flash Messages Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 99999;">
        {% for message in app.flashes('success') %}
            <div class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
                <div class="d-flex">
                    <div class="toast-body">
                        <i class="fa-solid fa-check-circle me-2"></i> {{ message }}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fermer"></button>
                </div>
            </div>
        {% endfor %}
        {% for message in app.flashes('error') %}
            <div class="toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
                <div class="d-flex">
                    <div class="toast-body">
                        <i class="fa-solid fa-exclamation-circle me-2"></i> {{ message }}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fermer"></button>
                </div>
            </div>
        {% endfor %}
    </div>

    <main role="main">
        {% block body %}{% endblock %}
    </main>

    <footer role="contentinfo">
        {% include 'layout/footer.html.twig' %}
    </footer>
   


    <!-- Performance optimization -->
    <script src="{{ asset('js/scroll-optimizer.js') }}"></script>
    <!-- jQuery -->
    <script src="{{ asset('js/jquery-3.7.1.min.js') }}"></script>
    <script src="{{ asset('js/jquery-migrate-3.5.0.min.js') }}"></script>
    <script src="{{ asset('js/popper.min.js') }}"></script>
    <script src="{{ asset('js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('js/modernizr-2.6.2.min.js') }}"></script>
    <script src="{{ asset('js/imagesloaded.pkgd.min.js') }}"></script>
    <script src="{{ asset('js/jquery.isotope.v3.0.2.js') }}"></script>
    <script src="{{ asset('js/scrollIt.min.js') }}"></script>
    <script src="{{ asset('js/jquery.waypoints.min.js') }}"></script>
    <script src="{{ asset('js/owl.carousel.min.js') }}"></script>
    <script src="{{ asset('js/jquery.stellar.min.js') }}"></script>
    <script src="{{ asset('js/jquery.magnific-popup.js') }}"></script>
    <script src="{{ asset('js/YouTubePopUp.js') }}"></script>
    <script src="{{ asset('js/smooth-scroll.min.js') }}"></script>
    <script src="{{ asset('js/wow.min.js') }}"></script>
    <script src="{{ asset('js/custom.js') }}"></script>
    <!-- GSAP + ScrollTrigger (CDN) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer></script>
    <!-- Animations FX -->
    <script src="{{ asset('js/animations.js') }}" defer></script>
    <!-- Toast auto-init -->
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        var toastElList = document.querySelectorAll('.toast');
        toastElList.forEach(function (toastEl) {
            new bootstrap.Toast(toastEl).show();
        });
    });
    </script>
    {% block javascripts %}{% endblock %}
</body>
</html>
