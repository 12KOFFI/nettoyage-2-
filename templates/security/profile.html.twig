{% extends 'base_web.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}
  <div class="container">
    <div class="page-inner">
      <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
        <div>
          <h3 class="fw-bold mb-3">Mon Profil</h3>
          <h6 class="op-7 mb-2">Informations de votre compte</h6>
        </div>
        <div class="ms-md-auto py-2 py-md-0">
          <a href="{{ path('app_dashboard') }}" class="btn btn-secondary btn-round">
            <i class="fas fa-arrow-left me-2"></i>Retour au Dashboard
          </a>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8 offset-md-2">
          <div class="card card-round">
            <div class="card-header">
              <div class="card-head-row">
                <div class="card-title">
                  <i class="fas fa-user me-2"></i>Informations du compte
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="row mb-4">
                <div class="col-md-4 text-center">
                  <div class="avatar avatar-xxl mb-3 d-flex align-items-center justify-content-center bg-secondary text-white rounded-circle">
                    <i class="fas fa-user fa-2x"></i>
                  </div>
                </div>
                <div class="col-md-8">
                  <div class="mb-3">
                    <label class="form-label fw-bold">Email</label>
                    <p class="mb-0">
                      <i class="fas fa-envelope me-2 text-primary"></i>{{ user.email }}
                    </p>
                  </div>
                  <div class="mb-3">
                    <label class="form-label fw-bold">Rôles</label>
                    <p class="mb-0">
                      {% for role in user.roles %}
                        <span class="badge badge-primary me-1">{{ role }}</span>
                      {% endfor %}
                    </p>
                  </div>
                  <div class="mb-0">
                    <label class="form-label fw-bold">Statut du compte</label>
                    <p class="mb-0">
                      <span class="badge badge-success">
                        <i class="fas fa-check-circle me-1"></i>Actif
                      </span>
                    </p>
                  </div>
                </div>
              </div>

              <hr>

              {% if 'ROLE_ADMIN' in user.roles %}
                <div class="alert alert-success">
                  <i class="fas fa-check-circle me-2"></i>
                  <strong>Administrateur :</strong> Vous pouvez gérer les comptes depuis le dashboard.
                </div>
              {% else %}
                <div class="alert alert-info">
                  <i class="fas fa-info-circle me-2"></i>
                  <strong>Note :</strong> Pour modifier vos informations de profil, veuillez contacter l'administrateur.
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
